# 클래스

## 체계

클래스를 구현할 때
`상수 → 변수 → 함수` 순으로 작성하고,
각각 `public → private` 순으로 작성한다.

메소드를 예를 들어, public한 메소드를 먼저 작성하고, public 메소드에서 호출되는 private한 메소드를 그 아래에 작성하여 추상화 단계를 낮추는 방향으로 작성한다.

<br/>

## 크기

### SRP

Single Responsibility Principle

클래스는 한가지 기능에 대한 책임을 갖는다.  
 여러가지 기능이 있다면 해당 클래스는 여러 이유로 수정을 하게 된다.  
 클래스를 변경하는 이유가 하나가 될 수 있도록 클래스를 쪼개 클래스의 크기가 작도록 한다.

<br/>

### 응집도

한 클래스가 기능을 수행하기 위해 필요한 모든 구성요소를 갖고 있어야하고, 클래스에 속한 메소드와 변수는 서로서로 높은 의존도를 보여야한다.

응집도를 높이는 게 무조건적으로 바람직한 것은 아니지만 지향하는 것이 좋다.

<b>응집도를 높이는 방법</b>

- 인스턴스 변수가 적어야한다.  
  클래스에서 선언된 일부 메소드에서만 사용되는 변수를 클래스에 선언하는 경우 응집도가 낮은 인스턴스 변수가 많아지는 것을 의미한다. 따라서 인스턴스 변수가 많아지는 것은 클래스를 쪼개야한다는 신호가 되기도한다.
- 메소드는 인스턴스 변수를 하나 이상 사용해야하고, 많이 사용할수록 응집도가 높다.
- 메소드마다 변수를 사용하는 경우 응집도가 가장 높다.

<br/>

## 변경하기 쉬운 클래스

### OCP

Open-Closed Principle

확장에 개방적이고 수정에 폐쇄적이어야한다는 원칙을 지키도록 한다.

추상 클래스를 사용해 확장에 개방적이고, 추상 클래스 및 기존에 추상 클래스를 상속받아 구현된 파생클래스를 테스트하거나 수정해도 되지 않도록 구현할 수 있다.

이를 결합도가 낮다고 표현한다.

결합도가 낮추면 유연성과 재사용성을 높일 수 있다.

<br/>

## 컴포넌트에서 응집도와 결합도 관리

컴포넌트는 크게 범용적인 컴포넌트와 페이지에 종속되는 컴포넌트로 나눌 수 있다.

### 범용적인 컴포넌트

범용적으로 사용되는 컴포넌트는 특정 도메인과의 결합도를 낮추고, 재사용성을 높이는 것이 중요하다. 이 과정에서 너무 많은 책임을 수행하지 않도록 `합성`을 사용하여 적절하게 나누어야 한다.

```js
// organisms/Header

interface HeaderProps {
    ...
    headerType?: 'default' | 'mainPage' | '' ...
}
```

<img width="599" alt="padding={" src="https://user-images.githubusercontent.com/67260437/218947553-1685a6c2-c8f4-40b1-a7e2-406b57ef07a8.png">

위와 같이 `headerType` props를 받게 되면 다음과 같은 문제가 존재한다.

- type에 따른 분기 처리가 추가될 수 있다.
- 기존 분기 처리에 대한 변경이 필요할 수 있다.
- 특정 도메인에만 필요한 prop이 추가될 가능성이 커진다.
- 테스트 코드 역시 컴포넌트에 변화에 따라 다양한 케이스들을 검증해야 한다.

### 도메인에 종속적인 컴포넌트

훅을 사용하여 컴포넌트와 비즈니스 로직의 결합도를 최대한 낮춰야한다. 전역 state 같은 경우 데이터 간의 의존성이 생기지 않도록 설계하여 모듈 간의 결합도를 낮추고 변화에 유연한 구조를 만드는 것이 중요하다.

---

#### Reference

[컴포넌트의 추상화 관리](https://fe-developers.kakaoent.com/2022/221020-component-abstraction/)
